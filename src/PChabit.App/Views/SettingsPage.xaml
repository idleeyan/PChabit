<?xml version="1.0" encoding="UTF-8" ?>
<Page
    x:Class="PChabit.App.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer Padding="24">
        <StackPanel Spacing="24">
            <TextBlock
                FontSize="28"
                FontWeight="SemiBold"
                Text="设置" />

            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="基本设置" />

                    <ToggleSwitch
                        Header="开机自启动"
                        x:Name="StartWithWindowsSwitch" />

                    <ToggleSwitch
                        Header="最小化到系统托盘"
                        x:Name="MinimizeToTraySwitch" />

                    <ToggleSwitch
                        Header="显示通知"
                        x:Name="ShowNotificationsSwitch" />

                    <ToggleSwitch
                        Header="自动开始监控"
                        x:Name="AutoStartMonitoringSwitch" />
                </StackPanel>
            </Border>

            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="监控设置" />

                    <StackPanel Spacing="8">
                        <TextBlock Text="监控间隔 (分钟)" />
                        <NumberBox
                            x:Name="MonitoringIntervalBox"
                            Minimum="1"
                            Maximum="60" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="空闲阈值 (分钟)" />
                        <NumberBox
                            x:Name="IdleThresholdBox"
                            Minimum="1"
                            Maximum="60" />
                    </StackPanel>

                    <StackPanel Spacing="12">
                        <TextBlock Text="数据采集" />
                        <ToggleSwitch
                            Header="记录键盘输入"
                            x:Name="TrackKeyboardSwitch" />
                        <ToggleSwitch
                            Header="记录鼠标活动"
                            x:Name="TrackMouseSwitch" />
                        <ToggleSwitch
                            Header="记录网页浏览"
                            x:Name="TrackWebBrowsingSwitch" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="外观" />

                    <StackPanel Spacing="8">
                        <TextBlock Text="主题" />
                        <ComboBox x:Name="ThemeComboBox" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="语言" />
                        <ComboBox x:Name="LanguageComboBox" />
                    </StackPanel>
                </StackPanel>
            </Border>

            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="数据管理" />

                    <StackPanel Spacing="8">
                        <TextBlock Text="数据保存天数" />
                        <NumberBox
                            x:Name="RetentionDaysBox"
                            Minimum="7"
                            Maximum="365" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="数据库位置" />
                        <TextBlock
                            x:Name="DataPathText"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            TextWrapping="Wrap" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="数据库大小" />
                        <TextBlock
                            x:Name="DatabaseSizeText"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>

                    <Button 
                        Content="清除所有数据" 
                        x:Name="ClearDataButton"
                        Style="{StaticResource AccentButtonStyle}" />
                </StackPanel>
            </Border>

            <Border
                Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12">
                <StackPanel Spacing="16">
                    <TextBlock
                        FontSize="16"
                        FontWeight="SemiBold"
                        Text="关于" />

                    <StackPanel Spacing="8">
                        <TextBlock Text="PChabit - 电脑使用习惯追踪" FontWeight="Medium" />
                        <TextBlock x:Name="VersionText" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="项目地址" />
                        <HyperlinkButton NavigateUri="https://github.com/idleeyan/PChabit" Content="github.com/idleeyan/PChabit" />
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="使用说明" />
                        <TextBlock
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            Text="PChabit 是一款电脑使用习惯追踪工具，可以记录您的应用程序使用时间、键盘鼠标活动、网页浏览历史等数据，帮助您了解自己的电脑使用习惯。"
                            TextWrapping="Wrap" />
                    </StackPanel>

                    <HyperlinkButton Content="查看更新日志" x:Name="ViewChangelogButton" />
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
